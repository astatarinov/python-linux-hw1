# python-linux-hw1
Решение домашнего задания 1 на курсе Python & Linux программы ФТИАД НИУ ВШЭ.

Файлы:
- **task.txt** - формулировка задания
- **parser.py** - исполняемый код (подробное описание представлено далее)
- **requirements.txt** - используемые библиотеки, не входящие в стадарнтный набор библиотек python

## Общее описание происходящего:

**parser.py** выполняет рекурсивное скачивание страниц сайта в формате `.html`, начиная с указанной url. Глубина поиска регулируется (параметр `depth`), т.е. в случае выбора глубины 1 будет получен только html файл исходной страницы. Если 2 - парсер найдет на ней все ссылки (ведущие на этот же сайт) и скачает страницы по этим адресам. Если 3 - будет искать на каждой странице из предыдущей итерации и т.д. 

Результат сохраняется следующим образом:
1. Создается файл **urls.txt** с парами "id ссылки" и "ссылка". id и ссылка разделены пробелом, каждая новая пара - на новой строке.
2. Создается директория **data/** с файлам вида **<id ссылки>.html**, в которую помещаются скачанные страницы.
                                                                

### 1. Настройка окружения. 

В командной строке необходимо выполнить (построчно): 

```
> cd <your path to project dir>
> python -m venv ./project_venv
> source project_venv/bin/activate
> python -m pip -r install requirements.txt
```
Для ~~страдальцев~~ пользователей Windows:
```
> cd <your path to project dir>
> python -m venv ./project_venv
> cd project_venv/Scripts
> cd activate
> cd <your path to project dir>
> python -m pip -r install requirements.txt
```


### 2. Запуск программы

Скрипт запускается из командной строки:

```python3 parser.py [-h] [-d] [-s] [-p] url```

Параметры:
- `-h` - вызов помощи 
- `-d` - `depth`, `(type=int, default=1)`, глубина поиска. Принцип использования параметра описан выше.
- `-s` - `sleep`, `(type=float, default=1)`, время паузы в секундах `(type=float, default=1)`. Пауза используется во избежания блокировок со стороны сайта.
- `-p` - `path`, `(type=str, default='./')`, абсолютный или относительный (относительно директории проекта) путь до папки, куда пользователь желает сохранить результаты. По умолчанию файл **urls.txt** и папка **data/** будут созданы в директории проекта `(type=str, default='./')`.
- `url` - `URL`, `(type=str)`, стартовая ссылка для поиска в формате `https://...'
